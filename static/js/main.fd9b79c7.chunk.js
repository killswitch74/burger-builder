(this["webpackJsonp4-burger-builder-app"]=this["webpackJsonp4-burger-builder-app"]||[]).push([[0],[,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"o",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"c",(function(){return b}));var a="ADD_ING",r="DEL_ING",o="CHANGE_PRICE",i="RESET",c="RESET_ING",l="RESET_PRICE",u="FETCH_ING",s="FETCH_ERROR",d="SUBMIT_ORDER",m="ERROR",p="LOADER",g="FETCH_ORDERS",f="AUTH_HANDLER",h="LOGIN_ERROR_STATE",b="AUTH_LOGOUT"},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return S}));var a=n(2),r=n(21),o=function(e){return{type:a.a,ing:e}},i=function(e){return{type:a.e,ing:e}},c=function(e,t){return{type:a.d,ing:e,act:t}},l=function(){return{type:a.l}},u=function(){return{type:a.m}},s=function(){return{type:a.n}},d=function(){return function(e){r.a.get("/ingredients.json").then((function(t){var n;e((n=t.data,{type:a.h,data:n}))})).catch((function(t){e({type:a.g})}))}},m=n(1),p=function(){return{type:a.f,error:!0}},g=function(e){return{type:a.j,loader:e}},f=function(e,t){return function(n,o){n(g(!0)),r.a.post("/orders.json?auth="+o().auth.token,e).then((function(r){n(function(e,t){return{type:a.o,id:e,order:t}}(r.data.name,e)),t()})).catch((function(e){n(p())}))}},h=function(){return function(e,t){e(g(!0));var n=[],o="?auth="+t().auth.token+'&orderBy="userID"&equalTo="'+t().auth.userID+'"';r.a.get("/orders.json"+o).then((function(t){for(var r in t.data)n.push(Object(m.a)(Object(m.a)({},t.data[r]),{},{id:r}));e(function(e){return{type:a.i,orders:e}}(n))})).catch((function(t){e(p())}))}},b=n(23),v=n.n(b),E=function(e){return{type:a.k,error:e}},_=function(e,t){return{type:a.b,token:e,userID:t}},O=function(){return localStorage.removeItem("token"),localStorage.removeItem("userID"),localStorage.removeItem("expirationDate"),localStorage.removeItem("refreshToken"),localStorage.removeItem("keepLoggedIn"),{type:a.c}},y=function(e){return function(t){setTimeout((function(){t(O())}),1e3*e)}},k=function(e,t,n,a,r){return function(o){var i=new Date((new Date).getTime()+1e3*a);localStorage.setItem("token",e),localStorage.setItem("userID",t),localStorage.setItem("refreshToken",n),localStorage.setItem("expirationDate",i),localStorage.setItem("keepLoggedIn",r),o(g(!1)),o(_(e,t)),o(E(null)),o(y(a))}},j=function(e,t,n,a){return function(r){r(g(!0));var o={email:e,password:t,returnSecureToken:!0},i="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDk3K1lHEAHx4sO2BGy2U509Nj4Itr1E-4";"login"===n&&(i="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDk3K1lHEAHx4sO2BGy2U509Nj4Itr1E-4"),v.a.post(i,o).then((function(e){r(k(e.data.idToken,e.data.localId,e.data.refreshToken,e.data.expiresIn,a))})).catch((function(e){r(g(!1)),r(E(e.response.data.error.message))}))}},I=function(e){return function(t){var n={grant_type:"refresh_token",refresh_token:localStorage.getItem("refreshToken")};v.a.post("https://securetoken.googleapis.com/v1/token?key=AIzaSyDk3K1lHEAHx4sO2BGy2U509Nj4Itr1E-4",n).then((function(n){console.log("[tokken re-instated]"),t(k(n.data.id_token,n.data.user_id,n.data.refresh_token,n.data.expires_in,e))})).catch((function(e){t(g(!1)),t(E(e.response.data.error.message)),console.log(e.response.data.error.message)}))}},S=function(){return function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("keepLoggedIn");if(t){var a=new Date(localStorage.getItem("expirationDate"));if(a>new Date){var r=localStorage.getItem("userID");e(_(t,r)),e(y((a.getTime()-(new Date).getTime())/1e3))}else e("yes"===n?I(n):O())}else e("yes"===n?I(n):O())}}},,,,,,,function(e,t,n){e.exports={Input:"Input_Input__4JTCB",Label:"Input_Label__2rpFh",InputEl:"Input_InputEl__2phsY",Select:"Input_Select__1rWtQ",Radio:"Input_Radio__2z4Sm",Invalid_border:"Input_Invalid_border__2I24B",Invalid_text:"Input_Invalid_text__1P1Ar"}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e.children}},,function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__6S1-H",NavigationItemsM:"NavigationItems_NavigationItemsM__3OpYA",active:"NavigationItems_active__xPVBk"}},function(e,t,n){e.exports={BreadBottom:"BurgerIngredients_BreadBottom__1orYk",BreadTop:"BurgerIngredients_BreadTop__3Hcrm",Seeds1:"BurgerIngredients_Seeds1__2fOFJ",Seeds2:"BurgerIngredients_Seeds2__1VVyP",Meat:"BurgerIngredients_Meat__3YDuU",Cheese:"BurgerIngredients_Cheese__1krOH",Salad:"BurgerIngredients_Salad__3AZ-G",Bacon:"BurgerIngredients_Bacon__2mG2T"}},function(e,t,n){"use strict";var a=n(23),r=n.n(a).a.create({baseURL:"https://react-burger-builder-11.firebaseio.com/"});t.a=r},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(70),i=n.n(o),c=function(){return r.a.createElement("div",{className:i.a.Loader},"Loading...")}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(46),i=n.n(o),c=function(e){return r.a.createElement("button",{className:[i.a.Button,i.a[e.btnType]].join(" "),onClick:e.click,disabled:e.disabled},e.children)}},,,function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__3oNHK",Open:"SideDrawer_Open__3ZQ8Q",Close:"SideDrawer_Close__IbxNn"}},function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__1CHSi",OrderButton:"BuildControls_OrderButton__74QVU",inline:"BuildControls_inline__14olh",enable:"BuildControls_enable__JDdxS",ResetButton:"BuildControls_ResetButton__2FYLN"}},function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__22m7L",Label:"BuildControl_Label__2hr7R",Less:"BuildControl_Less__3Pipp",More:"BuildControl_More__RN5Ws"}},function(e,t,n){"use strict";var a=n(39),r=n(0),o=n.n(r),i=n(38),c=n(17);t.a=function(e,t){return function(n){var l=Object(r.useState)(null),u=Object(a.a)(l,2),s=u[0],d=u[1],m=t.interceptors.request.use((function(e){return d(null),e})),p=t.interceptors.response.use((function(e){return e}),(function(e){return d(e),Promise.reject(e)}));return Object(r.useEffect)((function(){return function(){}}),[m,p]),o.a.createElement(c.a,null,o.a.createElement(e,n),o.a.createElement(i.a,{show:s,modalClosed:function(){return d(null)}},s?s.message:null))}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(67),i=n.n(o),c=function(e){return e.show?r.a.createElement("div",{className:i.a.Backdrop,onClick:e.modalClosed}):null}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(68),i=n.n(o),c=n(37),l=n(17);t.a=r.a.memo((function(e){return r.a.createElement(l.a,null,r.a.createElement(c.a,{modalClosed:e.modalClosed,show:e.show}),r.a.createElement("div",{className:i.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))}),(function(e,t){return e.show===t.show&&e.children===t.children}))},,,,function(e,t,n){e.exports={Context:"Layout_Context__1_50o"}},function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__ihf-R",DesktopOnly:"Toolbar_DesktopOnly__vdB-v"}},,,function(e,t,n){e.exports={Button:"Button_Button__3NYNd",Success:"Button_Success__3wRqw",Danger:"Button_Danger__2gK72",enable:"Button_enable__15jht"}},function(e,t,n){e.exports={Login:"Auth_Login__2g3-W",Button:"Auth_Button__3ox6P"}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(12),i=n.n(o),c=function(e){var t=null,n=null,a=[i.a.InputEl];switch((e.invalid&&e.touched||e.error)&&(a.push(i.a.Invalid_border,i.a.Invalid_text),n=r.a.createElement("p",{style:{color:"red",margin:"5px 0",fontSize:"x-large"}},"please enter a valid ",e.elementConfig.placeholder)),e.elementType){case"input":t=r.a.createElement("div",null,n,r.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.change})));break;case"textarea":t=r.a.createElement("div",null,n,r.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.change})));break;case"select":a[0]=i.a.Select,a.push(e.touched?null:i.a.Invalid_text),t=r.a.createElement("div",null,r.a.createElement("label",{className:i.a.Label},e.label),r.a.createElement("select",{className:a.join(" "),value:e.value,onChange:e.change},e.elementConfig.options.map((function(t){return r.a.createElement("option",{key:t.value,value:t.value,name:e.label},t.value)}))));break;case"radio":case"checkbox":a[0]=i.a.Radio,a.push(e.touched?null:i.a.Invalid_text),t=r.a.createElement("div",null,r.a.createElement("label",{className:i.a.Label},e.label),e.elementConfig.options.map((function(t){return r.a.createElement("div",{key:t.value,className:a.join(" ")},r.a.createElement("input",{type:e.elementType,name:e.label,value:t.value,onChange:e.change})," ",t.value)})));break;default:t=r.a.createElement("div",null,n,r.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.change})))}return r.a.createElement("div",{className:i.a.Input},t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){var n=[];return t.required&&n.push(""!==e.trim()),t.minLength&&n.push(e.trim().length>=t.minLength),t.maxLength&&n.push(e.trim().length<=t.maxLength),t.emailCheck&&n.push(e.search("@")>-1),n.reduce((function(e,t){return e&&t}))}},function(e,t,n){"use strict";var a=n(72),r=n(7),o=n(8),i=n(10),c=n(9),l=n(0),u=n.n(l),s=n(69),d=n.n(s),m=n(6),p=n(20),g=n.n(p),f=n(5),h=Object(m.b)(null,(function(e){return{delIng:function(t){return e(f.f(t))},changePrice:function(t,n){return e(f.e(t,n))}}}))((function(e){var t=function(t){e.delIng(t),e.changePrice(t,"rem")},n=null;switch(e.type){case"bread-bottom":n=u.a.createElement("div",{className:g.a.BreadBottom});break;case"bread-top":n=u.a.createElement("div",{className:g.a.BreadTop},u.a.createElement("div",{className:g.a.Seeds1}),u.a.createElement("div",{className:g.a.Seeds2}));break;case"meat":n=u.a.createElement("div",{className:g.a.Meat,onClick:function(){return t("Meat")}});break;case"cheese":n=u.a.createElement("div",{className:g.a.Cheese,onClick:function(){return t("Cheese")}});break;case"salad":n=u.a.createElement("div",{className:g.a.Salad,onClick:function(){return t("Salad")}});break;case"bacon":n=u.a.createElement("div",{className:g.a.Bacon,onClick:function(){return t("Bacon")}});break;default:n=null}return n})),b=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"renderIng",value:function(){var e=this,t=Object.keys(this.props.ing).map((function(t){return Object(a.a)(Array(e.props.ing[t])).map((function(e,n){return u.a.createElement(h,{key:t+n,type:t.toLowerCase()})}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length?u.a.createElement("p",null,"add some ingredients!"):t}},{key:"render",value:function(){return u.a.createElement("div",{className:d.a.Burger},u.a.createElement(h,{type:"bread-top"}),this.renderIng(),u.a.createElement(h,{type:"bread-bottom"}))}}]),n}(l.Component);t.a=b},,,function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},function(e,t,n){e.exports={Logo:"Logo_Logo__1hCP-"}},function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__14QOX"}},function(e,t,n){e.exports={Menu:"Menu_Menu__2z0Y6"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3YDZh"}},function(e,t,n){e.exports={Modal:"Modal_Modal__2Ts9A"}},function(e,t,n){e.exports={Burger:"Burger_Burger__2mDYL"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__NiGIC",load6:"Spinner_load6__wWUJu",round:"Spinner_round__13I3h"}},,,function(e,t,n){e.exports=n(102)},,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),o=n(34),i=n.n(o),c=n(24),l=n(6),u=n(62),s=(n(82),n(7)),d=n(8),m=n(10),p=n(9),g=n(18),f=(n(83),n(39)),h=n(4),b=n(17),v=n(42),E=n.n(v),_=n(43),O=n.n(_),y=n(63),k=n.n(y),j=n(64),I=n.n(j),S=function(e){return r.a.createElement("div",{className:I.a.Logo,style:{height:e.height,marginBottom:e.marginBottom}},r.a.createElement("a",{href:"https://killswitch74.github.io/burger-builder"},r.a.createElement("img",{src:k.a,alt:"Burger Builder"}),"\xa0Burger Builder"))},C=n(19),B=n.n(C),N=n(65),x=n.n(N),w=function(e){return r.a.createElement("li",{className:x.a.NavigationItem,style:e.isSideDrawer?{width:"100%"}:{width:"auto"}},e.children)},D=Object(l.b)((function(e){return{isAuth:null!==e.auth.token}}))((function(e){var t={textDecoration:"none"},n=r.a.createElement(g.b,{to:"/login",style:t,activeClassName:B.a.active},r.a.createElement(w,{isSideDrawer:e.isSideDrawer},"Login"));return e.isAuth&&(n=r.a.createElement(g.b,{to:"/logout",style:t,activeClassName:B.a.active},r.a.createElement(w,{isSideDrawer:e.isSideDrawer},"Logout"))),r.a.createElement("div",{onClick:e.clicked},r.a.createElement("nav",{className:B.a.NavigationItems,style:{fontSize:32}},r.a.createElement("ul",{className:e.isSideDrawer?B.a.NavigationItemsM:B.a.NavigationItems},r.a.createElement(g.b,{to:"/",exact:!0,style:t,activeClassName:B.a.active},r.a.createElement(w,{isSideDrawer:e.isSideDrawer},"Build a Burger")),e.isAuth?r.a.createElement(g.b,{to:"/checkout",style:t,activeClassName:B.a.active},r.a.createElement(w,{isSideDrawer:e.isSideDrawer},"Checkout")):null,e.isAuth?r.a.createElement(g.b,{to:"/orders",style:t,activeClassName:B.a.active},r.a.createElement(w,{isSideDrawer:e.isSideDrawer},"My Orders")):null,n)))})),T=n(66),A=n.n(T),L=n(71),H=function(e){return r.a.createElement(L.a,{className:A.a.Menu,onClick:e.click})},R=function(e){return r.a.createElement("header",{className:O.a.Toolbar},r.a.createElement(H,{click:e.click}),r.a.createElement(S,{height:"55px"}),r.a.createElement("div",{className:O.a.DesktopOnly},r.a.createElement(D,null)))},P=n(30),M=n.n(P),F=n(37),z=function(e){var t=[M.a.SideDrawer,M.a.Close];return e.toggle&&(t=[M.a.SideDrawer,M.a.Open]),r.a.createElement(b.a,null,r.a.createElement(F.a,{show:e.toggle,modalClosed:e.click}),r.a.createElement("div",{className:t.join(" ")},r.a.createElement(S,{height:"55px",marginBottom:"25px"}),r.a.createElement(D,{clicked:e.click,isSideDrawer:!0})))},Y=n(1),U=n(33),G=n(5),V=n(21),W=n(60),J=n(31),q=n.n(J),K=n(32),Q=n.n(K),Z=function(e){return r.a.createElement("div",{className:Q.a.BuildControl},r.a.createElement("div",{className:Q.a.Label},e.label),r.a.createElement("button",{className:Q.a.Less,onClick:e.remove,disabled:e.isDisabled},"less."),r.a.createElement("button",{className:Q.a.More,onClick:e.add},"more."))},$=function(e){var t=Object.keys(e.ing).map((function(t,n){return r.a.createElement(Z,{key:t+n,label:t,type:t.toLowerCase(),add:function(){return e.changeIngHandler(t,"add")},remove:function(){return e.changeIngHandler(t,"remove")},isDisabled:e.isDisabled[t]})}));return r.a.createElement("div",{className:q.a.BuildControls,style:{fontFamily:"Amatic SC",fontSize:28}},e.price>2?r.a.createElement("p",{style:{fontSize:38,margin:"4px"}},"Total: ",r.a.createElement("strong",null,e.price.toFixed(2),"$")):null,t,r.a.createElement("div",null,r.a.createElement("button",{className:[q.a.ResetButton,q.a.OrderButton].join(" "),disabled:!e.ordernow,onClick:e.reset},"RESET"),r.a.createElement("button",{className:q.a.OrderButton,disabled:!e.ordernow,onClick:e.modal},"ORDER")))},X=n(27),ee=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.ingredients).map((function(t,n){return 0!==e.props.ingredients[t]?r.a.createElement("li",{key:t+n},t,": ",e.props.ingredients[t]):null})),n=r.a.createElement("div",null,r.a.createElement("h1",{style:{fontSize:44}},"Your Order Summary:"),r.a.createElement("p",{style:{fontSize:24}},"with all these tasty ingredients..."),r.a.createElement("ul",{style:{fontSize:28}},t),r.a.createElement("p",{style:{fontSize:24,fontFamily:"Ubuntu Condensed"}},"Total: ",this.props.price.toFixed(2),"$"));return this.props.isAuth||(n=r.a.createElement("p",{style:{fontSize:38}},"you gotta sign-in to continue")),r.a.createElement("div",null,n,r.a.createElement(X.a,{btnType:"Danger",click:this.props.cancel},r.a.createElement("span",{style:{fontSize:36}},"Cancel")),r.a.createElement(X.a,{btnType:"Success",click:this.props.continue},r.a.createElement("span",{style:{fontSize:36}},this.props.isAuth?"Continue":"Sign-in")))}}]),n}(a.Component),te=n(25),ne=n(38),ae=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1},e.changeIngHandler=function(t,n){"add"===n?e.props.addIng(t):e.props.delIng(t),e.props.changePrice(t,n)},e.modalHandler=function(){var t=e.state.modal;e.setState({modal:!t})},e.continueHandler=function(){e.props.isAuth?e.props.history.push("/checkout"):e.props.history.push("/login")},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.resetIng(),this.props.resetPrice(),this.props.fetchIng()}},{key:"ordernowToggle",value:function(e){return Object.keys(e).reduce((function(t,n){return t+e[n]}),0)>0}},{key:"render",value:function(){var e=Object(Y.a)({},this.props.ing);for(var t in e)e[t]<=0?e[t]=!0:e[t]=!1;var n=this.props.error?r.a.createElement("p",{style:{fontSize:"xx-large",color:"#ffb657"}},"Something went wrong. Please check your internet connection!"):r.a.createElement(te.a,null),a=null;return this.props.ing&&(n=r.a.createElement(b.a,null,r.a.createElement(W.a,{ing:this.props.ing}),r.a.createElement($,{ing:this.props.ing,changeIngHandler:this.changeIngHandler,isDisabled:e,price:this.props.price,ordernow:this.ordernowToggle(this.props.ing),modal:this.modalHandler,reset:this.props.reset})),a=r.a.createElement(ee,{ingredients:this.props.ing,price:this.props.price,cancel:this.modalHandler,continue:this.continueHandler,isAuth:this.props.isAuth})),r.a.createElement(b.a,null,r.a.createElement(ne.a,{show:this.state.modal,modalClosed:this.modalHandler},this.state.modal?a:null),n)}}]),n}(a.Component),re=Object(l.b)((function(e){return{ing:e.ing.ingredients,error:e.ing.error,price:e.price.totalPrice,isAuth:null!==e.auth.token}}),(function(e){return{addIng:function(t){return e(G.a(t))},delIng:function(t){return e(G.f(t))},changePrice:function(t,n){return e(G.e(t,n))},fetchIng:function(){return e(G.g())},reset:function(){return e(G.j())},resetIng:function(){return e(G.k())},resetPrice:function(){return e(G.l())}}}))(Object(U.a)(ae,V.a)),oe=n(22),ie=n(58),ce=n(59),le=n(23),ue=n.n(le),se=n(47),de=n.n(se),me=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formIsValid:!1,loginForm:{email:e.loginForm("input","email","e-mail","",!0),password:e.loginForm("input","password","password","",!0),keepMeLoggedin:e.loginForm("checkbox","","keep me logged in?","",null,"yes")}},e.changeHandler=function(t,n){var a=null;e.state.loginForm[n].validation&&(a=Object(Y.a)(Object(Y.a)({},e.state.loginForm[n].validation),{},{valid:Object(ce.a)(t.target.value,e.state.loginForm[n].validation)}));var r,o=Object(Y.a)(Object(Y.a)({},e.state.loginForm),{},Object(oe.a)({},n,Object(Y.a)(Object(Y.a)({},e.state.loginForm[n]),{},{value:t.target.value,validation:a,touched:!0})));r=Object.keys(o).map((function(e){return!o[e].validation||o[e].validation.valid})).reduce((function(e,t){return e&&t})),e.setState({loginForm:o,formIsValid:r})},e.loginHandler=function(t){e.props.authHandler(e.state.loginForm.email.value,e.state.loginForm.password.value,t,e.state.loginForm.keepMeLoggedin.value)},e}return Object(d.a)(n,[{key:"loginForm",value:function(e,t,n,a,r){if("input"!==e){for(var o=arguments.length,i=new Array(o>5?o-5:0),c=5;c<o;c++)i[c-5]=arguments[c];return{elementType:e,elementConfig:{placeholder:n,options:i.map((function(e){return{value:e}}))},value:a,touched:!1}}return{elementType:e,elementConfig:{type:t,placeholder:n},value:a,validation:{required:r,maxLength:200,minLength:r?6:null,emailCheck:"email"===t,valid:!1},touched:!1}}},{key:"render",value:function(){var e=this,t=[],n=null;for(var a in this.state.loginForm)t.push({id:a,config:this.state.loginForm[a]});n=t.map((function(t){return r.a.createElement(ie.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,change:function(n){return e.changeHandler(n,t.id)},label:t.config.elementConfig.placeholder,touched:t.config.touched,invalid:t.config.validation?!t.config.validation.valid:null,error:e.props.error})})),this.props.loader&&(n=r.a.createElement("div",null,r.a.createElement(te.a,null),r.a.createElement("p",{style:{fontSize:"xx-large",textAlign:"center",color:"#ffb657"}},"Loading...")));var o=null;return this.props.isAuth&&(o=this.props.price>2?r.a.createElement(h.a,{to:"/checkout"}):r.a.createElement(h.a,{to:"/"})),r.a.createElement("div",{className:de.a.Login},r.a.createElement("form",null,n,this.props.error?r.a.createElement("p",{style:{textAlign:"center",color:"red",fontSize:"x-large",padding:"0 50px"}},this.props.error):null),r.a.createElement("div",{className:de.a.Button},r.a.createElement(X.a,{disabled:!this.state.formIsValid,btnType:"Success",click:function(){return e.loginHandler("login")}},"log-in"),r.a.createElement(X.a,{disabled:!this.state.formIsValid,btnType:"Danger",click:function(){return e.loginHandler("signup")}},"sign-up")),o)}}]),n}(a.Component),pe=Object(l.b)((function(e){return{isAuth:null!==e.auth.token,loader:e.order.loader,error:e.auth.error,price:e.price.totalPrice}}),(function(e){return{authHandler:function(t,n,a,r){return e(G.b(t,n,a,r))}}}))(Object(U.a)(me,ue.a)),ge=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.authLogoutHandler(2)}},{key:"render",value:function(){return r.a.createElement("div",{style:{fontSize:"xxx-large",textAlign:"center",color:"#ffb657"}},r.a.createElement("p",null,"You have been successfully logged-out!"),r.a.createElement("p",{style:{fontSize:"xx-large"}},"Redirecting to burger builder..."),r.a.createElement(te.a,null),this.props.isAuth?null:r.a.createElement(h.a,{to:"/"}))}}]),n}(a.Component),fe=Object(l.b)((function(e){return{isAuth:null!==e.auth.token}}),(function(e){return{authLogoutHandler:function(t){return e(G.c(t))}}}))(ge),he=function(e){return function(t){Object(m.a)(a,t);var n=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={component:null},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this;e().then((function(e){t.setState({component:e.default})}))}},{key:"render",value:function(){var e=this.state.component;return e?r.a.createElement(e,this.props):null}}]),a}(a.Component)},be=he((function(){return n.e(3).then(n.bind(null,106))})),ve=he((function(){return n.e(4).then(n.bind(null,107))})),Ee=Object(l.b)((function(e){return{isAuth:null!==e.auth.token}}))((function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),o=n[0],i=n[1],c=function(){i(!o)},l=r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,component:re}),r.a.createElement(h.b,{path:"/login",component:pe}),r.a.createElement(h.a,{to:"/"}));return e.isAuth&&(l=r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,component:re}),r.a.createElement(h.b,{path:"/checkout",component:be}),r.a.createElement(h.b,{path:"/orders",component:ve}),r.a.createElement(h.b,{path:"/login",component:pe}),r.a.createElement(h.b,{path:"/logout",component:fe}),r.a.createElement(h.a,{to:"/"}))),r.a.createElement(b.a,null,r.a.createElement(R,{click:c}),r.a.createElement(z,{toggle:o,click:c}),r.a.createElement("div",{className:E.a.Context}),r.a.createElement("main",{className:E.a.Context},e.children),l)})),_e=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.autoAuthHandler()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g.a,null,r.a.createElement(Ee,null)))}}]),n}(a.Component),Oe=Object(l.b)(null,(function(e){return{autoAuthHandler:function(){return e(G.d())}}}))(_e),ye=n(2),ke={ingredients:null,error:!1},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.h:return Object(Y.a)(Object(Y.a)({},e),{},{ingredients:t.data,error:!1});case ye.g:return Object(Y.a)(Object(Y.a)({},e),{},{error:!0});case ye.a:return Object(Y.a)(Object(Y.a)({},e),{},{ingredients:Object(Y.a)(Object(Y.a)({},e.ingredients),{},Object(oe.a)({},t.ing,e.ingredients[t.ing]+1))});case ye.e:return Object(Y.a)(Object(Y.a)({},e),{},{ingredients:Object(Y.a)(Object(Y.a)({},e.ingredients),{},Object(oe.a)({},t.ing,e.ingredients[t.ing]-1))});case ye.l:var n=Object.assign({},e);return n.ingredients=Object(Y.a)({},e.ingredients),Object.keys(n.ingredients).forEach((function(e){n.ingredients[e]=0})),n;case ye.m:return Object(Y.a)(Object(Y.a)({},e),{},{ingredients:null});default:return e}},Ie={totalPrice:2},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0,n=e.totalPrice;if(t.type!==ye.d)return t.type===ye.n||t.type===ye.l?Object(Y.a)(Object(Y.a)({},e),{},{totalPrice:2}):e;switch(t.ing){case"Bacon":return"add"===t.act?n+=.9:n-=.9,Object(Y.a)(Object(Y.a)({},e),{},{totalPrice:+n.toFixed(2)});case"Salad":return"add"===t.act?n+=.3:n-=.3,Object(Y.a)(Object(Y.a)({},e),{},{totalPrice:+n.toFixed(2)});case"Meat":return"add"===t.act?n+=1.1:n-=1.1,Object(Y.a)(Object(Y.a)({},e),{},{totalPrice:+n.toFixed(2)});case"Cheese":return"add"===t.act?n+=.2:n-=.2,Object(Y.a)(Object(Y.a)({},e),{},{totalPrice:+n.toFixed(2)});default:return e}},Ce={orders:[],error:!1,loader:!1},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.o:return Object(Y.a)(Object(Y.a)({},e),{},{orders:e.orders.concat(Object(Y.a)({id:t.id},t.order)),loader:!1,error:!1});case ye.f:return Object(Y.a)(Object(Y.a)({},e),{},{loader:!1,error:!0});case ye.j:return Object(Y.a)(Object(Y.a)({},e),{},{loader:t.loader});case ye.i:return Object(Y.a)(Object(Y.a)({},e),{},{loader:!1,orders:t.orders});default:return e}},Ne={token:null,userID:null,error:null},xe=function(e,t){var n=null;switch(t.error){case"EMAIL_NOT_FOUND":n="E-mail address does not exists! Please try signing-up instead.";break;case"INVALID_PASSWORD":n="Incorrect Password! Please check the password and try again.";break;case"INVALID_EMAIL":n="Incorrect E-mail address! Please enter valid e-mail address and try again.";break;case"EMAIL_EXISTS":n="E-mail address already exists! Please try logging-in instead.";break;case"TOO_MANY_ATTEMPTS_TRY_LATER":n="Too many failed attempts! Please try later.";break;default:n=e.error}return Object(Y.a)(Object(Y.a)({},e),{},{error:n})},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.k:return xe(e,t);case ye.b:return Object(Y.a)(Object(Y.a)({},e),{},{error:null,token:t.token,userID:t.userID});case ye.c:return Object(Y.a)(Object(Y.a)({},e),{},{token:null,userID:null});default:return e}},De=Object(c.c)({ing:je,price:Se,order:Be,auth:we}),Te=c.d,Ae=Object(c.e)(De,Te(Object(c.a)(u.a)));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Ae},r.a.createElement(Oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[73,1,2]]]);
//# sourceMappingURL=main.fd9b79c7.chunk.js.map